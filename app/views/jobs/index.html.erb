<div
  data-controller="notification"
  data-notification-delay-value="2000"
  class="transition transform duration-1000 hidden"
  data-transition-enter-from="opacity-0 translate-x-6"
  data-transition-enter-to="opacity-100 translate-x-0"
  data-transition-leave-from="opacity-100 translate-x-0"
  data-transition-leave-to="opacity-0 translate-x-6"
>
  <p>This alert will magically disappear!</p>
  <button data-action="notification#hide">Close</button>
</div>
<div class="container" style="margin-bottom: 100px; margin-top: 50px;">
  <div class="row gx-4">
    <div class="col-lg-3 job-stats my-2">
      <h4>Hello, <%= current_user.first_name.capitalize %>!</h4>
      <br>
      <h4>Achievements</h4>
      <ul>
        <% current_user.badges.each do |badge| %>
          <p><script src="https://cdn.lordicon.com/xdjxvujz.js"></script>
            <lord-icon src="https://cdn.lordicon.com/clcopglh.json" trigger="hover" title="JobJob Pro" colors="primary:#121331,secondary:#ffc738" style="width:64px;height:64px"></lord-icon>
          </p>
        <% end %>
      </ul>
      <br>
      <h4>Application progress</h4>
      <div data-controller="chart" data-chart-data-value="<%= @data_value %>" class="p-2 align-items-center">
        <canvas data-chart-target="canvas" id="myChart" width="500" height="500"></canvas>
      </div>
    </div>
    <div class="col-lg-9">
      <div class="d-flex justify-content-between align-items-center my-2">
        <h4>Your jobs</h4>
        <div>
          <!-- Button trigger modal -->
          <button type="button" class="btn btn-primary" style="margin-bottom: 8px;" data-bs-toggle="modal" data-bs-target="#jobs<%= @new_job.id %>">
            Add new job
          </button>
          <%= render 'modal', job: @new_job %>
        </div>
      </div>
      <div class="container jobs list-group" >
        <ul class="list-inline tabs-underlined mb-4" >
          <li>
            <%= link_to "All (#{@jobs.count})", jobs_path, class: "tab-underlined #{"active" unless params[:status]}" %>
          </li>
          <% Job.statuses.keys.each do |status| %>
            <li>
              <%= link_to "#{status.capitalize} (#{@jobs.where(status: status).count})", jobs_path(:status => status), class: "tab-underlined #{"active" if params[:status] == status}" %>
            </li>
          <% end %>
        </ul>
        <div data-controller="focus-card">
          <% @jobs_p.each do |job| %>
            <div>
              <%= render 'jobs/job_list', job: job %>
            </div>
          <% end %>
        </div>
      </div>
      <div class='d-flex justify-content-center'>
        <% if @status_count > 4 %>
          <%== render partial: 'pagy/bootstrap_nav', locals: {pagy: @pagy} %>
        <% end %>
      </div>
    </div>
  </div>
  <div class="job-suggestions my-2" id="suggested-jobs">
    <h4>Job suggestions</h4>
    <br>
    <%= render 'job_suggestions', job_suggestions: @job_suggestions, jobs: @jobs %>
  </div>
</div>
